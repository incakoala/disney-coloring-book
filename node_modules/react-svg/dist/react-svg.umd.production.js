!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["exports","react","react-dom/server"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactSVG={},e.React,e.ReactDOMServer)}(this,(function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(r);var o=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i};var a=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},s=function(e){return e.cloneNode(!0)},l=function(){return"file:"===window.location.protocol},c=function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(4===r.readyState){if(404===r.status||null===r.responseXML)throw new Error(l()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(!(200===r.status||l()&&0===r.status))throw new Error("There was a problem injecting the SVG: "+r.status+" "+r.statusText);t(null,r)}}catch(e){t(e,r)}},r.open("GET",e),r.overrideMimeType&&r.overrideMimeType("text/xml"),r.send()},u=new Map,f={},p=function(e,t){f[e]=f[e]||[],f[e].push(t)},d=function(e,t){if(u.has(e)){var r=u.get(e);return r instanceof SVGElement?void t(null,s(r)):r instanceof Error?void t(r):void p(e,t)}u.set(e,void 0),p(e,t),c(e,(function(t,r){t?u.set(e,t):r.responseXML instanceof Document&&r.responseXML.documentElement&&r.responseXML.documentElement instanceof SVGElement&&u.set(e,r.responseXML.documentElement),function(e){for(var t=function(t,r){setTimeout((function(){if(Array.isArray(f[e])){var r=u.get(e),n=f[e][t];r instanceof SVGElement&&n(null,s(r)),r instanceof Error&&n(r),t===f[e].length-1&&delete f[e]}}),0)},r=0,n=f[e].length;r<n;r++)t(r)}(e)}))},h=function(e,t){c(e,(function(e,r){e?t(e):r.responseXML instanceof Document&&r.responseXML.documentElement&&r.responseXML.documentElement instanceof SVGElement&&t(null,r.responseXML.documentElement)}))},v=0,m=[],g={},b="http://www.w3.org/1999/xlink",y=function(e,t,r,n,i,o){var a=e.getAttribute("data-src")||e.getAttribute("src");if(a&&/\.svg/i.test(a)){if(-1!==m.indexOf(e))return m.splice(m.indexOf(e),1),void(e=null);m.push(e),e.setAttribute("src",""),(n?d:h)(a,(function(n,s){if(!s)return m.splice(m.indexOf(e),1),e=null,void o(n);var l=e.getAttribute("id");l&&s.setAttribute("id",l);var c=e.getAttribute("title");c&&s.setAttribute("title",c);var u=e.getAttribute("width");u&&s.setAttribute("width",u);var f=e.getAttribute("height");f&&s.setAttribute("height",f);var p=Array.from(new Set(function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}((s.getAttribute("class")||"").split(" "),["injected-svg"],(e.getAttribute("class")||"").split(" ")))).join(" ").trim();s.setAttribute("class",p);var d=e.getAttribute("style");d&&s.setAttribute("style",d),s.setAttribute("data-src",a);var h=[].filter.call(e.attributes,(function(e){return/^data-\w[\w-]*$/.test(e.name)}));if(Array.prototype.forEach.call(h,(function(e){e.name&&e.value&&s.setAttribute(e.name,e.value)})),r){var y,A,E,S,w={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(w).forEach((function(e){A=w[e];for(var t=function(e,t){var r;S=(E=y[e].id)+"-"+ ++v,Array.prototype.forEach.call(A,(function(e){for(var t=0,n=(r=s.querySelectorAll("["+e+'*="'+E+'"]')).length;t<n;t++){var i=r[t].getAttribute(e);i&&!i.match(new RegExp('url\\("?#'+E+'"?\\)'))||r[t].setAttribute(e,"url(#"+S+")")}}));for(var n=s.querySelectorAll("[*|href]"),i=[],o=0,a=n.length;o<a;o++){var l=n[o].getAttributeNS(b,"href");l&&l.toString()==="#"+y[e].id&&i.push(n[o])}for(var c=0,u=i.length;c<u;c++)i[c].setAttributeNS(b,"href","#"+S);y[e].id=S},r=0,n=(y=s.querySelectorAll(e+"[id]")).length;r<n;r++)t(r)}))}s.removeAttribute("xmlns:a");for(var x,j,M=s.querySelectorAll("script"),k=[],G=0,I=M.length;G<I;G++)(j=M[G].getAttribute("type"))&&"application/ecmascript"!==j&&"application/javascript"!==j&&"text/javascript"!==j||((x=M[G].innerText||M[G].textContent)&&k.push(x),s.removeChild(M[G]));if(k.length>0&&("always"===t||"once"===t&&!g[a])){for(var R=0,V=k.length;R<V;R++)new Function(k[R])(window);g[a]=!0}var C=s.querySelectorAll("style");Array.prototype.forEach.call(C,(function(e){e.textContent+=""})),s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("xmlns:xlink",b),i(s),e.parentNode&&e.parentNode.replaceChild(s,e),m.splice(m.indexOf(e),1),e=null,o(null,s)}))}else o(new Error("Attempted to inject a file with a non-svg extension: "+a))},A=function(e){function r(){var t;return(t=e.apply(this,arguments)||this).initialState={hasError:!1,isLoading:!0},t.state=t.initialState,t._isMounted=!1,t.refCallback=function(e){t.container=e},t}a(r,e);var n=r.prototype;return n.renderSVG=function(){var e=this;if(this.container instanceof Node){var r=this.props,n=r.beforeInjection,o=r.evalScripts,a=r.renumerateIRIElements,s=r.src,l=r.useRequestCache,c=this.props.afterInjection,u=this.props.wrapper,f=document.createElement(u);f.innerHTML=i.default.renderToStaticMarkup(t.createElement(u,null,t.createElement(u,{"data-src":s}))),this.svgWrapper=this.container.appendChild(f.firstChild);!function(e,t){var r=void 0===t?{}:t,n=r.afterAll,i=void 0===n?function(){}:n,o=r.afterEach,a=void 0===o?function(){}:o,s=r.beforeEach,l=void 0===s?function(){}:s,c=r.cacheRequests,u=void 0===c||c,f=r.evalScripts,p=void 0===f?"never":f,d=r.renumerateIRIElements,h=void 0===d||d;if(e&&"length"in e)for(var v=0,m=0,g=e.length;m<g;m++)y(e[m],p,h,u,l,(function(t,r){a(t,r),e&&"length"in e&&e.length===++v&&i(v)}));else e?y(e,p,h,u,l,(function(t,r){a(t,r),i(1),e=null})):i(0)}(this.svgWrapper.firstChild,{afterEach:function(t,r){t&&e.removeSVG(),e._isMounted&&e.setState((function(){return{hasError:!!t,isLoading:!1}}),(function(){c(t,r)}))},beforeEach:n,cacheRequests:l,evalScripts:o,renumerateIRIElements:a})}},n.removeSVG=function(){this.container instanceof Node&&this.svgWrapper instanceof Node&&(this.container.removeChild(this.svgWrapper),this.svgWrapper=null)},n.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},n.componentDidUpdate=function(e){var t=this;(function(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1})(e,this.props)&&this.setState((function(){return t.initialState}),(function(){t.removeSVG(),t.renderSVG()}))},n.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},n.render=function(){var e=this.props,r=e.fallback,n=e.loading,i=e.wrapper,a=o(e,["afterInjection","beforeInjection","evalScripts","fallback","loading","renumerateIRIElements","src","useRequestCache","wrapper"]);return t.createElement(i,Object.assign({},a,{ref:this.refCallback}),this.state.isLoading&&n&&t.createElement(n,null),this.state.hasError&&r&&t.createElement(r,null))},r}(t.Component);A.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,loading:null,renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"},e.ReactSVG=A,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-svg.umd.production.js.map
